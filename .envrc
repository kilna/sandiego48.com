source_env ..

use asdf

# Set asdf to use the full tool versions file for local development
export ASDF_DEFAULT_TOOL_VERSIONS_FILENAME=.tool-versions.full
export SERVER_PORT=4848

# Add npm global bin to PATH for wrangler
export PATH="$(asdf where nodejs)/bin:$PATH"

# Cloudflare Pages configuration
export CLOUDFLARE_ACCOUNT_ID=$(wrangler whoami | grep -o '[a-f0-9]\{32\}' | head -1)
export CLOUDFLARE_PAGES_PROJECT=$(yq eval '.name' wrangler.toml)
export CLOUDFLARE_PAGES_DASHBOARD_URL=https://dash.cloudflare.com/$CLOUDFLARE_ACCOUNT_ID/pages/view/$CLOUDFLARE_PAGES_PROJECT

# Load and export environment variables if they exist
if [ -f .env ]; then set -a; source .env; set +a; fi
